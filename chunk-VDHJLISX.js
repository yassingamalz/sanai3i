import{a as xe}from"./chunk-QI5NDICY.js";import{a as N}from"./chunk-RNUYAFPJ.js";import{a as ve}from"./chunk-6A2HTE7C.js";import{y as Oe}from"./chunk-5HH6FJVZ.js";import{K as be,k as I,m as _e,p as Ce,r as Se,v as Me}from"./chunk-R4P5D64C.js";import{$a as v,A as Z,Ab as p,Bb as M,C as ee,Ca as ae,Cb as b,Da as se,Db as O,Ec as k,Fb as f,Fc as y,Gb as g,J as te,Jc as he,Kb as H,Lb as D,Mb as W,O as ne,Ob as l,P as $,Pb as x,Qb as T,Rb as me,Rc as z,Sb as pe,Sc as E,Tb as ge,Ub as ue,Va as Q,Vc as S,Wc as j,Xa as ce,Xb as A,Xc as F,Y as R,Ya as de,Yb as J,_a as o,a as B,b as K,ba as ie,ca as re,l as L,ma as P,na as oe,nc as fe,q,qb as u,sb as c,tb as le,ub as w,va as h,vb as X,wa as _,yb as r,zb as a}from"./chunk-CN5L5CS3.js";var Re=()=>[1,2,3];function Ae(i,d){i&1&&p(0,"i",13)}function ze(i,d){i&1&&p(0,"div",14)}function Le(i,d){if(i&1){let e=O();r(0,"i",15),f("click",function(){h(e);let n=g();return _(n.clearSearch())}),a()}}function Ve(i,d){i&1&&(r(0,"div",20),p(1,"div",21),r(2,"div",22),p(3,"div",23)(4,"div",24),a()())}function He(i,d){i&1&&(M(0),u(1,Ve,5,0,"div",19),b()),i&2&&(o(),c("ngForOf",A(1,Re)))}function De(i,d){if(i&1){let e=O();r(0,"div",26),f("mouseenter",function(){let n=h(e).index,s=g(3);return _(s.selectedResultIndex=n)})("click",function(){let n=h(e).$implicit,s=g(3);return _(s.navigateToSubService(n.mainServiceId,n.id))}),p(1,"i",27),r(2,"div",22)(3,"h4",28),l(4),a(),r(5,"p",29)(6,"span",30),l(7),a(),r(8,"span",31),l(9,"\u2022"),a(),r(10,"span",32),l(11),a()()()()}if(i&2){let e,t,n=d.$implicit,s=d.index,m=g(3);w("selected",s===m.selectedResultIndex),o(),X(((e=m.getMainService(n.mainServiceId))==null?null:e.faIcon)||"fas fa-circle"),o(3),x(n.name),o(3),x((t=m.getMainService(n.mainServiceId))==null?null:t.name),o(4),T("",n.price," \u062C\u0646\u064A\u0647")}}function We(i,d){if(i&1&&(M(0),u(1,De,12,7,"div",25),b()),i&2){let e=g(2);o(),c("ngForOf",e.searchResults)("ngForTrackBy",e.trackBySearchResult)}}function je(i,d){i&1&&(r(0,"div",33),p(1,"i",34),r(2,"p"),l(3,"\u0644\u0627 \u062A\u0648\u062C\u062F \u0646\u062A\u0627\u0626\u062C \u062A\u0637\u0627\u0628\u0642 \u0628\u062D\u062B\u0643"),a(),r(4,"p",35),l(5,"\u062D\u0627\u0648\u0644 \u0627\u0644\u0628\u062D\u062B \u0628\u0643\u0644\u0645\u0627\u062A \u0645\u062E\u062A\u0644\u0641\u0629"),a()())}function Be(i,d){if(i&1&&(r(0,"div",16),u(1,He,2,2,"ng-container",17)(2,We,2,2,"ng-container",17)(3,je,6,0,"div",18),a()),i&2){let e=g();o(),c("ngIf",e.isSearching),o(),c("ngIf",!e.isSearching&&e.searchResults.length>0),o(),c("ngIf",!e.isSearching&&e.searchResults.length===0&&e.searchQuery)}}var Pe=(()=>{class i{constructor(e,t,n){this.router=e,this.servicesService=t,this.elementRef=n,this.services=[],this.mainServicesMap=new Map,this.searchQuery="",this.searchResults=[],this.isSearching=!1,this.showResults=!1,this.selectedResultIndex=-1,this.searchSubject=new L,this.searchCache=new Map,this.destroy$=new L}ngOnInit(){this.setupSearchSubscription()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}handleClickOutside(e){this.elementRef.nativeElement.contains(e.target)||(this.showResults=!1,this.selectedResultIndex=-1)}handleKeyboardNavigation(e){if(this.showResults)switch(e.key){case"ArrowDown":e.preventDefault(),this.selectedResultIndex=Math.min(this.selectedResultIndex+1,this.searchResults.length-1),this.scrollToSelectedResult();break;case"ArrowUp":e.preventDefault(),this.selectedResultIndex=Math.max(this.selectedResultIndex-1,-1),this.scrollToSelectedResult();break;case"Enter":if(this.selectedResultIndex>=0&&this.searchResults[this.selectedResultIndex]){let t=this.searchResults[this.selectedResultIndex];this.navigateToSubService(t.mainServiceId,t.id)}break;case"Escape":this.showResults=!1,this.selectedResultIndex=-1;break}}setupSearchSubscription(){this.searchSubject.pipe(te(300),ne(),R(this.destroy$)).subscribe(e=>{this.performSearch(e)})}onSearch(e){let t=e.target;this.searchQuery=t.value,this.selectedResultIndex=-1,this.searchQuery.trim()?(this.showResults=!0,this.searchSubject.next(this.searchQuery)):(this.searchResults=[],this.showResults=!1)}performSearch(e){if(!e.trim()){this.searchResults=[],this.isSearching=!1;return}let t=this.searchCache.get(e);if(t){this.searchResults=t;return}this.isSearching=!0;let n=e.toLowerCase(),s=[];if(this.services.forEach(m=>{m.subServices?.forEach(C=>{this.matchesSearch(C,n)&&s.push(C)})}),s.length>0){this.searchResults=s,this.searchCache.set(e,s),this.isSearching=!1;return}this.servicesService.searchServices(e).pipe(R(this.destroy$),$(()=>{this.isSearching=!1})).subscribe({next:m=>{s=m.flatMap(C=>(C.subServices||[]).filter(G=>this.matchesSearch(G,n))),this.searchResults=s,this.searchCache.set(e,s)},error:m=>{console.error("Search error:",m),this.searchResults=[]}})}matchesSearch(e,t){return e.name.toLowerCase().includes(t)||e.description.toLowerCase().includes(t)}clearSearch(){this.searchQuery="",this.searchResults=[],this.showResults=!1,this.selectedResultIndex=-1}navigateToSubService(e,t){this.router.navigate(["/services",e,"sub-service",t]),this.showResults=!1,this.clearSearch()}scrollToSelectedResult(){if(this.selectedResultIndex>=0){let t=document.querySelectorAll(".search-result-item")[this.selectedResultIndex];t&&t.scrollIntoView({behavior:"smooth",block:"nearest"})}}getMainService(e){return this.mainServicesMap.get(e)}trackBySearchResult(e,t){return`${t.mainServiceId}-${t.id}`}static{this.\u0275fac=function(t){return new(t||i)(v(I),v(N),v(ae))}}static{this.\u0275cmp=P({type:i,selectors:[["app-search-header"]],hostBindings:function(t,n){t&1&&f("click",function(m){return n.handleClickOutside(m)},!1,de)("keydown",function(m){return n.handleKeyboardNavigation(m)},!1,ce)},inputs:{services:"services",mainServicesMap:"mainServicesMap"},decls:14,vars:6,consts:[[1,"bg-[#ef4444]"],[1,"px-4","pt-8","pb-3"],[1,"search-container"],[1,"bg-white","rounded-full","flex","items-center","h-11","shadow-sm","relative"],[1,"flex-1","text-gray-700","text-sm","mr-4","text-right","relative"],["type","text",1,"search-input","w-full","pr-10","pl-4",3,"ngModelChange","input","focus","placeholder","ngModel"],["class","fas fa-search text-gray-400 absolute right-3 top-1/2 -translate-y-1/2",4,"ngIf"],["class","search-spinner absolute right-3 top-1/2 -translate-y-1/2",4,"ngIf"],["class","fas fa-times text-gray-400 absolute left-3 top-1/2 -translate-y-1/2 cursor-pointer",3,"click",4,"ngIf"],[1,"flex","items-center","ml-4"],[1,"fas","fa-home","text-[#ef4444]","text-lg"],[1,"text-[#ef4444]","mr-2","font-medium"],["class","search-results-dropdown",4,"ngIf"],[1,"fas","fa-search","text-gray-400","absolute","right-3","top-1/2","-translate-y-1/2"],[1,"search-spinner","absolute","right-3","top-1/2","-translate-y-1/2"],[1,"fas","fa-times","text-gray-400","absolute","left-3","top-1/2","-translate-y-1/2","cursor-pointer",3,"click"],[1,"search-results-dropdown"],[4,"ngIf"],["class","no-results",4,"ngIf"],["class","search-result-item shimmer",4,"ngFor","ngForOf"],[1,"search-result-item","shimmer"],[1,"skeleton-icon"],[1,"flex-1"],[1,"skeleton-text","w-3/4"],[1,"skeleton-text","w-1/2"],["class","search-result-item",3,"selected","mouseenter","click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"search-result-item",3,"mouseenter","click"],[1,"service-icon"],[1,"result-title"],[1,"result-subtitle"],[1,"main-service-name"],[1,"separator"],[1,"price"],[1,"no-results"],[1,"fas","fa-search","text-gray-400","mb-2","text-lg"],[1,"text-sm","text-gray-500","mt-1"]],template:function(t,n){t&1&&(r(0,"header",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"span",4)(5,"input",5),ue("ngModelChange",function(m){return ge(n.searchQuery,m)||(n.searchQuery=m),m}),f("input",function(m){return n.onSearch(m)})("focus",function(){return n.showResults=!0}),a(),u(6,Ae,1,0,"i",6)(7,ze,1,0,"div",7)(8,Le,1,0,"i",8),a(),r(9,"div",9),p(10,"i",10),r(11,"span",11),l(12,"\u0627\u0644\u0631\u0626\u064A\u0633\u064A\u0629"),a()()(),u(13,Be,4,3,"div",12),a()()()),t&2&&(o(5),c("placeholder","\u0627\u0644\u0628\u062D\u062B \u0639\u0646 \u062E\u062F\u0645\u0629"),pe("ngModel",n.searchQuery),o(),c("ngIf",!n.isSearching),o(),c("ngIf",n.isSearching),o(),c("ngIf",n.searchQuery),o(5),c("ngIf",n.showResults&&(n.isSearching||n.searchResults.length>0||n.searchQuery)))},dependencies:[k,y,Ce,Se,Me],styles:[".search-container[_ngcontent-%COMP%]{position:relative;width:100%;z-index:50}.search-input[_ngcontent-%COMP%]{height:100%;background:transparent;border:none;outline:none;text-align:right;direction:rtl;font-size:1rem;color:#1f2937}.search-input[_ngcontent-%COMP%]::placeholder{color:#9ca3af}.search-results-dropdown[_ngcontent-%COMP%]{position:absolute;top:calc(100% + .5rem);left:0;right:0;background:#fff;border-radius:1rem;box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -1px #0000000f;max-height:400px;overflow-y:auto;padding:.5rem;z-index:50}.search-results-dropdown[_ngcontent-%COMP%]:empty{display:none}.search-result-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;padding:.75rem;border-radius:.5rem;cursor:pointer;transition:background-color .2s ease}.search-result-item[_ngcontent-%COMP%]:hover, .search-result-item.selected[_ngcontent-%COMP%]{background-color:#f3f4f6}.search-result-item[_ngcontent-%COMP%]   .service-icon[_ngcontent-%COMP%]{font-size:1.25rem;color:#ef4444;min-width:24px;text-align:center}.search-result-item[_ngcontent-%COMP%]   .result-title[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500;color:#1f2937;margin-bottom:.25rem}.search-result-item[_ngcontent-%COMP%]   .result-subtitle[_ngcontent-%COMP%]{font-size:.75rem;color:#6b7280;display:flex;align-items:center;gap:.5rem}.search-result-item[_ngcontent-%COMP%]   .result-subtitle[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{color:#9ca3af}.search-result-item[_ngcontent-%COMP%]   .result-subtitle[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{color:#059669}.no-results[_ngcontent-%COMP%]{text-align:center;padding:2rem 1rem;color:#6b7280}.no-results[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{display:block;font-size:1.5rem;margin-bottom:.5rem}.no-results[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.875rem}.no-results[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:first-of-type{color:#374151;font-weight:500}.search-spinner[_ngcontent-%COMP%]{width:16px;height:16px;border:2px solid #f3f4f6;border-top-color:#ef4444;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_shimmer{0%{background-position:-468px 0}to{background-position:468px 0}}.shimmer[_ngcontent-%COMP%]{background:#f6f7f8;background-image:linear-gradient(to right,#f6f7f8,#edeef1 20%,#f6f7f8 40% 100%);background-repeat:no-repeat;background-size:800px 104px;animation-duration:1.5s;animation-fill-mode:forwards;animation-iteration-count:infinite;animation-name:_ngcontent-%COMP%_shimmer;animation-timing-function:linear}.skeleton-icon[_ngcontent-%COMP%]{width:24px;height:24px;border-radius:50%}.skeleton-text[_ngcontent-%COMP%]{height:.875rem;border-radius:.25rem;margin-bottom:.25rem}.skeleton-text[_ngcontent-%COMP%]:last-child{margin-bottom:0}"]})}}return i})();var Qe=["serviceCard"],Xe=()=>[1,2,3,4,5,6];function Ne(i,d){i&1&&(r(0,"div",10),p(1,"div",11)(2,"div",12)(3,"div",13),a())}function Ye(i,d){i&1&&(M(0),u(1,Ne,4,0,"div",9),b()),i&2&&(o(),c("ngForOf",A(1,Xe)))}function Ue(i,d){if(i&1){let e=O();r(0,"div",15,0),f("click",function(){let n=h(e).$implicit,s=g(2);return _(s.openService(n.id))}),r(2,"div",16),l(3),a(),r(4,"h3",17),l(5),a(),r(6,"p",18),l(7),a()()}if(i&2){let e=d.$implicit,t=d.index,n=g(2);c("@fadeInUp",n.shouldAnimate(t)?"in":"void"),o(3),x(e.icon),o(2),x(e.name),o(2),x(e.description)}}function Ge(i,d){if(i&1&&(M(0),u(1,Ue,8,4,"div",14),b()),i&2){let e=g();o(),c("ngForOf",e.services)("ngForTrackBy",e.trackByServiceId)}}var we=(()=>{class i{constructor(){this.services=[],this.isLoading=!0,this.cardStates={},this.serviceClick=new se}shouldAnimate(e){return!this.isLoading&&this.cardStates[e]}openService(e){this.serviceClick.emit(e)}navigateToFullList(){this.serviceClick.emit(-1)}trackByServiceId(e,t){return t.id}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275cmp=P({type:i,selectors:[["app-services-grid"]],viewQuery:function(t,n){if(t&1&&H(Qe,5),t&2){let s;D(s=W())&&(n.serviceCards=s)}},inputs:{services:"services",isLoading:"isLoading",cardStates:"cardStates"},outputs:{serviceClick:"serviceClick"},decls:10,vars:2,consts:[["serviceCard",""],[1,"content-section"],[1,"section-header"],[1,"header-content"],[1,"section-title"],[1,"header-icons",3,"click"],[1,"fas","fa-chevron-left"],[1,"services-grid"],[4,"ngIf"],["class","skeleton-grid-card",4,"ngFor","ngForOf"],[1,"skeleton-grid-card"],[1,"skeleton-icon","shimmer"],[1,"skeleton-text","shimmer","w-2/3","mx-auto"],[1,"skeleton-text","shimmer","w-3/4","mx-auto"],["class","grid-card",3,"click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"grid-card",3,"click"],[1,"service-icon"],[1,"card-title"],[1,"card-subtitle"]],template:function(t,n){t&1&&(r(0,"section",1)(1,"div",2)(2,"div",3)(3,"h2",4),l(4,"\u0643\u0644 \u0627\u0644\u062E\u062F\u0645\u0627\u062A"),a(),r(5,"div",5),f("click",function(){return n.navigateToFullList()}),p(6,"i",6),a()()(),r(7,"div",7),u(8,Ye,2,2,"ng-container",8)(9,Ge,2,2,"ng-container",8),a()()),t&2&&(o(8),c("ngIf",n.isLoading),o(),c("ngIf",!n.isLoading))},dependencies:[k,y],styles:["[_nghost-%COMP%]{display:block}.content-section[_ngcontent-%COMP%]{padding:.5rem 1rem;margin-bottom:1rem}.section-header[_ngcontent-%COMP%]{cursor:pointer;-webkit-user-select:none;user-select:none;padding:1rem;transition:background-color .2s ease;border-radius:.5rem}.section-header[_ngcontent-%COMP%]:hover{background-color:#e24c4c0d}.section-header[_ngcontent-%COMP%]:hover   .fa-chevron-left[_ngcontent-%COMP%]{color:#ef4444}.header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:0 .5rem}.header-icons[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.section-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:700;color:#1f2937}.services-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:1rem;transition:all .3s ease-in-out}.grid-card[_ngcontent-%COMP%]{background:#fff;border-radius:1rem;padding:1.5rem 1rem;text-align:center;box-shadow:0 4px 6px -1px #0000000d,0 2px 4px -1px #00000008,0 10px 15px -3px #0000000d;transition:transform .2s ease,box-shadow .2s ease}.grid-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 10px 20px -5px #e24c4c1a,0 4px 6px -2px #0000000d}.grid-card[_ngcontent-%COMP%]   .service-icon[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:.75rem}.card-title[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:#1f2937;margin-bottom:.25rem}.card-subtitle[_ngcontent-%COMP%]{font-size:.875rem;color:#6b7280;line-height:1.25}.fa-chevron-left[_ngcontent-%COMP%]{transition:transform .3s ease;color:#9ca3af;font-size:1rem}.skeleton-grid-card[_ngcontent-%COMP%]{background:#fff;border-radius:1rem;padding:1.5rem 1rem;height:140px;overflow:hidden;text-align:center;box-shadow:0 4px 6px -1px #0000000d,0 2px 4px -1px #00000008,0 10px 15px -3px #0000000d}.skeleton-icon[_ngcontent-%COMP%]{width:2.5rem;height:2.5rem;border-radius:.5rem;margin:0 auto .75rem}.skeleton-text[_ngcontent-%COMP%]{height:1rem;margin-bottom:.5rem;border-radius:.25rem}@keyframes _ngcontent-%COMP%_shimmer{0%{background-position:-468px 0}to{background-position:468px 0}}.shimmer[_ngcontent-%COMP%]{background:#f6f7f8;background-image:linear-gradient(to right,#f6f7f8,#edeef1 20%,#f6f7f8 40% 100%);background-repeat:no-repeat;background-size:800px 104px;animation-duration:1.5s;animation-fill-mode:forwards;animation-iteration-count:infinite;animation-name:_ngcontent-%COMP%_shimmer;animation-timing-function:linear}@media (max-width: 640px){.services-grid[_ngcontent-%COMP%]{gap:.75rem}.grid-card[_ngcontent-%COMP%]{padding:1rem}.section-title[_ngcontent-%COMP%]{font-size:1.125rem}}"],data:{animation:[z("fadeInUp",[j("void",S({opacity:0,transform:"translateY(20px)"})),j("in",S({opacity:1,transform:"translateY(0)"})),F("void => in",[E("0.8s 0.3s ease-out")])])]}})}}return i})();var Je=()=>[1,2,3],Ke=i=>({delay:i}),Ze=i=>({value:"",params:i});function et(i,d){i&1&&(r(0,"div",10),p(1,"div",11),r(2,"div",12),p(3,"div",13)(4,"div",14)(5,"div",15),a()())}function tt(i,d){i&1&&(M(0),u(1,et,6,0,"div",9),b()),i&2&&(o(),c("ngForOf",A(1,Je)))}function nt(i,d){if(i&1){let e=O();r(0,"div",17),f("click",function(){let n=h(e).$implicit,s=g(2);return _(s.onWorkerClick(n))}),p(1,"img",18),r(2,"div",19)(3,"h3",20),l(4),a(),r(5,"p",21),l(6),a(),r(7,"div",22),p(8,"i",23),r(9,"span"),l(10),a()()(),p(11,"i",24),a()}if(i&2){let e=d.$implicit,t=d.index,n=g(2);w("animate-fade-in",n.cardStates[t]),c("@fadeInUp",J(11,Ze,J(9,Ke,t*100))),o(),c("src",e.image,Q)("alt",e.name),o(3),x(e.name),o(2),x(e.service),o(4),me("",e.rating," \u2022 ",e.completedJobs," \u062E\u062F\u0645\u0629")}}function it(i,d){if(i&1&&(M(0),u(1,nt,12,13,"div",16),b()),i&2){let e=g();o(),c("ngForOf",e.topWorkers)("ngForTrackBy",e.trackByWorkerId)}}function rt(i,d){i&1&&(M(0),r(1,"div",25)(2,"p",26),l(3,"\u0644\u0627 \u064A\u0648\u062C\u062F \u0635\u0646\u0627\u064A\u0639\u064A\u0629 \u0645\u062A\u0627\u062D\u064A\u0646 \u062D\u0627\u0644\u064A\u0627\u064B"),a()(),b())}var ke=(()=>{class i{constructor(e){this.router=e,this.topWorkers=[],this.isLoading=!0,this.cardStates={}}trackByWorkerId(e,t){return t.id}onWorkerClick(e){this.router.navigate(["/worker",e.id])}initializeAnimations(){this.topWorkers.length&&this.topWorkers.forEach((e,t)=>{setTimeout(()=>{this.cardStates[t]=!0},t*100)})}static{this.\u0275fac=function(t){return new(t||i)(v(I))}}static{this.\u0275cmp=P({type:i,selectors:[["app-top-workers"]],inputs:{topWorkers:"topWorkers",isLoading:"isLoading"},decls:12,vars:3,consts:[[1,"content-section"],[1,"section-header"],[1,"header-content"],[1,"header-title"],[1,"section-title"],[1,"header-icons"],[1,"fas","fa-chevron-left"],[1,"cards-container"],[4,"ngIf"],["class","worker-card",4,"ngFor","ngForOf"],[1,"worker-card"],[1,"skeleton-circle","shimmer"],[1,"flex-1"],[1,"skeleton-text","shimmer","w-2/3"],[1,"skeleton-text","shimmer","w-1/2"],[1,"skeleton-text","shimmer","w-1/3"],["class","worker-card",3,"animate-fade-in","click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"worker-card",3,"click"],["loading","lazy",1,"worker-image",3,"src","alt"],[1,"worker-info"],[1,"card-title"],[1,"card-subtitle"],[1,"rating"],[1,"fas","fa-star"],[1,"fas","fa-chevron-left","arrow-icon"],[1,"text-center","py-8"],[1,"text-gray-500"]],template:function(t,n){t&1&&(r(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),l(5,"\u0623\u0641\u0636\u0644 \u0627\u0644\u0635\u0646\u0627\u064A\u0639\u064A\u0629"),a()(),r(6,"div",5),p(7,"i",6),a()()(),r(8,"div",7),u(9,tt,2,2,"ng-container",8)(10,it,2,2,"ng-container",8),a(),u(11,rt,4,0,"ng-container",8),a()),t&2&&(o(9),c("ngIf",n.isLoading),o(),c("ngIf",!n.isLoading),o(),c("ngIf",!n.isLoading&&n.topWorkers.length===0))},dependencies:[k,y],styles:["[_nghost-%COMP%]{display:block;overflow-x:hidden}.section-header[_ngcontent-%COMP%]{cursor:pointer;-webkit-user-select:none;user-select:none;padding:1rem;transition:background-color .2s ease;border-radius:.5rem}.section-header[_ngcontent-%COMP%]:hover{background-color:#e24c4c0d}.section-header[_ngcontent-%COMP%]:hover   .fa-chevron-left[_ngcontent-%COMP%]{color:#e24c4c}.header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:0 .5rem}.header-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.header-icons[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.section-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:700;color:#1f2937}.content-section[_ngcontent-%COMP%]{padding:.5rem 1rem;margin-bottom:1rem}.cards-container[_ngcontent-%COMP%]{transition:all .3s ease-in-out;max-height:2000px;opacity:1;overflow:hidden}.cards-container.collapsed[_ngcontent-%COMP%]{max-height:0;opacity:0;margin:0;padding:0}.worker-card[_ngcontent-%COMP%]{background:#fff;border-radius:1rem;padding:1.25rem;margin-bottom:.75rem;display:flex;align-items:center;gap:1rem;box-shadow:0 4px 6px -1px #0000000d,0 2px 4px -1px #00000008,0 10px 15px -3px #0000000d;transition:transform .2s ease,box-shadow .2s ease;cursor:pointer}.worker-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 10px 20px -5px #e24c4c1a,0 4px 6px -2px #0000000d}.worker-card[_ngcontent-%COMP%]:active{transform:translateY(0)}.worker-image[_ngcontent-%COMP%]{width:4rem;height:4rem;border-radius:9999px;object-fit:cover;flex-shrink:0}.worker-info[_ngcontent-%COMP%]{flex:1;text-align:right;min-width:0}.rating[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:.875rem;color:#6b7280;margin-top:.25rem}.rating[_ngcontent-%COMP%]   .fa-star[_ngcontent-%COMP%]{color:#fbbf24}.card-title[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:#1f2937;margin-bottom:.25rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.card-subtitle[_ngcontent-%COMP%]{font-size:.875rem;color:#6b7280;line-height:1.25}.fa-chevron-left[_ngcontent-%COMP%]{transition:transform .3s ease;color:#9ca3af;font-size:1rem}.fa-chevron-left.rotate-90[_ngcontent-%COMP%]{transform:rotate(-90deg)}.arrow-icon[_ngcontent-%COMP%]{color:#9ca3af;font-size:1rem}.skeleton-card[_ngcontent-%COMP%]{background:#fff;border-radius:1rem;padding:1.25rem;margin-bottom:.75rem;height:100px;overflow:hidden;box-shadow:0 4px 6px -1px #0000000d,0 2px 4px -1px #00000008,0 10px 15px -3px #0000000d}.skeleton-circle[_ngcontent-%COMP%]{width:4rem;height:4rem;border-radius:50%;margin-right:1rem}.skeleton-text[_ngcontent-%COMP%]{height:1rem;margin-bottom:.5rem;border-radius:.25rem}@keyframes _ngcontent-%COMP%_shimmer{0%{background-position:-468px 0}to{background-position:468px 0}}.shimmer[_ngcontent-%COMP%]{background:#f6f7f8;background-image:linear-gradient(to right,#f6f7f8,#edeef1 20%,#f6f7f8 40% 100%);background-repeat:no-repeat;background-size:800px 104px;animation-duration:1.5s;animation-fill-mode:forwards;animation-iteration-count:infinite;animation-name:_ngcontent-%COMP%_shimmer;animation-timing-function:linear}.animate-fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease-in-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.flex-1[_ngcontent-%COMP%]{flex:1}.w-2\\/3[_ngcontent-%COMP%]{width:66.666667%}.w-1\\/2[_ngcontent-%COMP%]{width:50%}.w-1\\/3[_ngcontent-%COMP%]{width:33.333333%}.text-center[_ngcontent-%COMP%]{text-align:center}.py-8[_ngcontent-%COMP%]{padding-top:2rem;padding-bottom:2rem}.text-gray-500[_ngcontent-%COMP%]{color:#6b7280}@media (max-width: 640px){.section-title[_ngcontent-%COMP%]{font-size:1.125rem}.worker-image[_ngcontent-%COMP%], .skeleton-circle[_ngcontent-%COMP%]{width:3.5rem;height:3.5rem}.worker-card[_ngcontent-%COMP%]{padding:1rem}.card-title[_ngcontent-%COMP%]{font-size:1rem}.card-subtitle[_ngcontent-%COMP%], .rating[_ngcontent-%COMP%]{font-size:.8125rem}}[dir=rtl][_ngcontent-%COMP%]   .worker-info[_ngcontent-%COMP%]{text-align:right}[dir=rtl][_ngcontent-%COMP%]   .skeleton-circle[_ngcontent-%COMP%]{margin-right:0;margin-left:1rem}[dir=rtl][_ngcontent-%COMP%]   .fa-chevron-right[_ngcontent-%COMP%]{transform:scaleX(-1)}@media print{.worker-card[_ngcontent-%COMP%]{box-shadow:none;border:1px solid #e5e7eb;break-inside:avoid}.section-header[_ngcontent-%COMP%]{display:none}}"],data:{animation:[z("fadeInUp",[F(":enter",[S({transform:"translateY(20px)",opacity:0}),E("0.5s {{ delay }}ms ease-out",S({transform:"translateY(0)",opacity:1}))])])]}})}}return i})();var at=()=>[1,2,3];function st(i,d){if(i&1&&(r(0,"span",8),l(1),a()),i&2){let e=g();o(),T("",e.topSubServices[0].totalRequests||0," \u0637\u0644\u0628")}}function ct(i,d){i&1&&(r(0,"div",10)(1,"div",11),p(2,"div",12)(3,"div",13),a()())}function dt(i,d){i&1&&(M(0),u(1,ct,4,0,"div",9),b()),i&2&&(o(),c("ngForOf",A(1,at)))}function lt(i,d){if(i&1){let e=O();r(0,"div",15),f("click",function(){let n=h(e).$implicit,s=g(2);return _(s.navigateToSubService(n.mainServiceId,n.id))}),r(1,"div",11)(2,"div",16)(3,"div",17),p(4,"i",18),r(5,"h3",19),l(6),a()(),r(7,"div",20)(8,"span",8),l(9),a(),r(10,"span",21),l(11,"\u2022"),a(),r(12,"span",21),l(13),a()()(),r(14,"div",22),p(15,"i",23),r(16,"span",24),l(17),a()()()()}if(i&2){let e,t,n=d.$implicit,s=g(2);o(4),X((e=s.getMainService(n.mainServiceId))==null?null:e.faIcon),o(2),x(n.name),o(3),T("",n.totalRequests," \u0637\u0644\u0628"),o(4),x((t=s.getMainService(n.mainServiceId))==null?null:t.name),o(2),w("fa-arrow-trend-up",n.trend==="up")("fa-arrow-trend-down",n.trend==="down")("text-success",n.trend==="up")("text-danger",n.trend==="down"),o(),w("text-success",n.trend==="up")("text-danger",n.trend==="down"),o(),T(" ",n.trendValue,"% ")}}function mt(i,d){if(i&1&&(M(0),u(1,lt,18,18,"div",14),b()),i&2){let e=g();o(),c("ngForOf",e.topSubServices)("ngForTrackBy",e.trackBySubServiceId)}}var ye=(()=>{class i{constructor(e){this.router=e,this.topSubServices=[],this.isLoading=!0,this.mainServicesMap=new Map}trackBySubServiceId(e,t){return`${t.mainServiceId}-${t.id}`}navigateToSubService(e,t){this.router.navigate(["/services",e,"sub-service",t])}getMainService(e){return this.mainServicesMap.get(e)}static{this.\u0275fac=function(t){return new(t||i)(v(I))}}static{this.\u0275cmp=P({type:i,selectors:[["app-trending-services"]],inputs:{topSubServices:"topSubServices",isLoading:"isLoading",mainServicesMap:"mainServicesMap"},decls:10,vars:3,consts:[[1,"content-section"],[1,"section-header"],[1,"header-content"],[1,"header-title"],[1,"section-title"],["class","request-count",4,"ngIf"],[1,"cards-container"],[4,"ngIf"],[1,"request-count"],["class","skeleton-card",4,"ngFor","ngForOf"],[1,"skeleton-card"],[1,"service-content"],[1,"skeleton-text","shimmer","w-2/3"],[1,"skeleton-text","shimmer","w-1/4"],["class","service-card",3,"click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"service-card",3,"click"],[1,"service-info"],[1,"flex","items-center","gap-2"],[1,"text-[#ef4444]"],[1,"card-title"],[1,"flex","items-center","gap-2","mt-1"],[1,"text-sm","text-gray-500"],[1,"trend-container"],[1,"fa-solid"],[1,"trend-value"]],template:function(t,n){t&1&&(r(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),l(5,"\u0627\u0644\u062E\u062F\u0645\u0627\u062A \u0627\u0644\u0623\u0643\u062B\u0631 \u0637\u0644\u0628\u0627\u064B"),a(),u(6,st,2,1,"span",5),a()()(),r(7,"div",6),u(8,dt,2,2,"ng-container",7)(9,mt,2,2,"ng-container",7),a()()),t&2&&(o(6),c("ngIf",!n.isLoading),o(2),c("ngIf",n.isLoading),o(),c("ngIf",!n.isLoading))},dependencies:[k,y],styles:["[_nghost-%COMP%]{display:block}.content-section[_ngcontent-%COMP%]{padding:.5rem 1rem;margin-bottom:1rem}.section-header[_ngcontent-%COMP%]{cursor:pointer;-webkit-user-select:none;user-select:none;padding:1rem;transition:background-color .2s ease;border-radius:.5rem}.section-header[_ngcontent-%COMP%]:hover{background-color:#e24c4c0d}.header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:0 .5rem}.header-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.section-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:700;color:#1f2937}.cards-container[_ngcontent-%COMP%]{transition:all .3s ease-in-out;max-height:2000px;opacity:1;overflow:hidden}.service-card[_ngcontent-%COMP%]{background:#fff;border-radius:1rem;padding:1.25rem;margin-bottom:.75rem;box-shadow:0 4px 6px -1px #0000000d,0 2px 4px -1px #00000008,0 10px 15px -3px #0000000d;transition:transform .2s ease,box-shadow .2s ease}.service-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 10px 20px -5px #e24c4c1a,0 4px 6px -2px #0000000d}.service-card[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.service-card[_ngcontent-%COMP%]   .service-info[_ngcontent-%COMP%]{text-align:right}.card-title[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:#1f2937;margin-bottom:.25rem}.request-count[_ngcontent-%COMP%]{font-size:.875rem;color:#085e0c;padding:.25rem .75rem;background-color:#13ba2c1a;border-radius:999px;white-space:nowrap}.trend-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.trend-container[_ngcontent-%COMP%]   .trend-value[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500}.text-success[_ngcontent-%COMP%]{color:#10b981}.text-danger[_ngcontent-%COMP%]{color:#ef4444}.skeleton-card[_ngcontent-%COMP%]{background:#fff;border-radius:1rem;padding:1.25rem;margin-bottom:.75rem;height:100px;overflow:hidden;box-shadow:0 4px 6px -1px #0000000d,0 2px 4px -1px #00000008,0 10px 15px -3px #0000000d}.skeleton-text[_ngcontent-%COMP%]{height:1rem;margin-bottom:.5rem;border-radius:.25rem}@keyframes _ngcontent-%COMP%_shimmer{0%{background-position:-468px 0}to{background-position:468px 0}}.shimmer[_ngcontent-%COMP%]{background:#f6f7f8;background-image:linear-gradient(to right,#f6f7f8,#edeef1 20%,#f6f7f8 40% 100%);background-repeat:no-repeat;background-size:800px 104px;animation-duration:1.5s;animation-fill-mode:forwards;animation-iteration-count:infinite;animation-name:_ngcontent-%COMP%_shimmer;animation-timing-function:linear}"]})}}return i})();var Ie=(()=>{class i{constructor(){this.featuredAds=[{id:1,title:"AC Repair",subtitle:"at home service",discount:"50% off",image:"assets/images/featured/ac-repair.jpg",actionText:"Book now",link:"/service/ac-repair"},{id:2,title:"Cleaning Service",subtitle:"professional cleaning",discount:"30% off",image:"assets/images/featured/cleaning.jpg",actionText:"Book now",link:"/service/cleaning"},{id:3,title:"Plumbing",subtitle:"emergency service",discount:"20% off",image:"assets/images/featured/plumbing.jpg",actionText:"Book now",link:"/service/plumbing"}]}getFeaturedAds(){return q(this.featuredAds)}updateFeaturedAd(e,t){let n=this.featuredAds.findIndex(s=>s.id===e);if(n!==-1)return this.featuredAds[n]=B(B({},this.featuredAds[n]),t),q(this.featuredAds[n]);throw new Error("Featured ad not found")}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=ie({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var ut=["slidesContainer"];function ft(i,d){i&1&&(r(0,"div",7)(1,"span"),l(2,"Loading..."),a()())}function ht(i,d){if(i&1&&(r(0,"div",16)(1,"span",17),l(2),a(),r(3,"span",18),l(4,"off"),a()()),i&2){let e=g().$implicit;o(2),T("",e.discount.split("%")[0],"%")}}function _t(i,d){if(i&1){let e=O();r(0,"div",8)(1,"div",9),p(2,"img",10),a(),r(3,"div",11)(4,"div",12)(5,"h2"),l(6),a(),r(7,"p"),l(8),a()(),r(9,"div",13),u(10,ht,5,1,"div",14),r(11,"button",15),f("click",function(){let n=h(e).$implicit,s=g();return _(s.navigateToAd(n))}),l(12),a()()()()}if(i&2){let e=d.$implicit,t=d.index,n=g();le("display",t===n.currentIndex?"block":"none"),w("active",t===n.currentIndex),c("@slideAnimation",n.currentIndex),o(2),c("src",e.image,Q)("alt",e.title),o(4),x(e.title),o(2),x(e.subtitle),o(2),c("ngIf",e.discount),o(2),T(" ",e.actionText," ")}}function vt(i,d){if(i&1){let e=O();r(0,"button",21),f("click",function(){let n=h(e).index,s=g(2);return _(s.goToSlide(n))}),a()}if(i&2){let e=d.index,t=g(2);w("active",e===t.currentIndex),c("disabled",t.loading)}}function xt(i,d){if(i&1&&(r(0,"div",19),u(1,vt,1,3,"button",20),a()),i&2){let e=g();o(),c("ngForOf",e.featuredAds)}}var Te=(()=>{class i{constructor(e,t,n){this.featuredService=e,this.router=t,this.cdr=n,this.featuredAds=[],this.currentIndex=0,this.loading=!0,this.direction="next",this.touchStartX=0,this.touchEndX=0,this.isSwiping=!1,this.swipeThreshold=50,this.destroy$=new L,this.autoSlideEnabled=!0,this.slideInterval=5e3}ngOnInit(){this.loadFeaturedAds(),this.setupEventListeners()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onTouchStart(e){this.autoSlideEnabled=!1,this.touchStartX=e.touches[0].clientX,this.isSwiping=!0}onTouchMove(e){if(!this.isSwiping)return;this.touchEndX=e.touches[0].clientX;let t=this.touchEndX-this.touchStartX;Math.abs(t)>20&&e.preventDefault()}onTouchEnd(e){if(!this.isSwiping)return;let t=this.touchEndX-this.touchStartX;Math.abs(t)>this.swipeThreshold&&(t>0&&this.currentIndex>0?(this.direction="prev",this.currentIndex--):t<0&&this.currentIndex<this.featuredAds.length-1&&(this.direction="next",this.currentIndex++)),this.isSwiping=!1,this.autoSlideEnabled=!0,this.cdr.detectChanges()}loadFeaturedAds(){this.featuredService.getFeaturedAds().pipe(R(this.destroy$)).subscribe(e=>{this.featuredAds=e,e.length>0&&this.preloadImages()})}preloadImages(){let e=0;this.featuredAds.forEach((t,n)=>{let s=new Image;s.onload=()=>{e++,e===this.featuredAds.length&&(this.loading=!1,this.startAutoSlide(),this.cdr.detectChanges())},s.src=t.image})}setupEventListeners(){let e=document.querySelector(".slider-container");e&&(e.addEventListener("mouseenter",()=>{this.autoSlideEnabled=!1}),e.addEventListener("mouseleave",()=>{this.autoSlideEnabled=!0}))}startAutoSlide(){ee(this.slideInterval).pipe(R(this.destroy$)).subscribe(()=>{this.autoSlideEnabled&&this.featuredAds.length>1&&(this.direction="next",this.currentIndex=(this.currentIndex+1)%this.featuredAds.length,this.cdr.detectChanges())})}goToSlide(e){e!==this.currentIndex&&!this.loading&&(this.direction=e>this.currentIndex?"next":"prev",this.currentIndex=e,this.cdr.detectChanges())}navigateToAd(e){!this.loading&&!this.isSwiping&&this.router.navigate([e.link])}static{this.\u0275fac=function(t){return new(t||i)(v(Ie),v(I),v(fe))}}static{this.\u0275cmp=P({type:i,selectors:[["app-featured-slider"]],viewQuery:function(t,n){if(t&1&&H(ut,5),t&2){let s;D(s=W())&&(n.slidesContainer=s.first)}},decls:7,vars:5,consts:[["slidesContainer",""],[1,"featured-slider"],[1,"slider-container",3,"touchstart","touchmove","touchend"],["class","loading-indicator",4,"ngIf"],[1,"slides-wrapper"],["class","slide",3,"active","display",4,"ngFor","ngForOf"],["class","dots",4,"ngIf"],[1,"loading-indicator"],[1,"slide"],[1,"background-image"],[3,"src","alt"],[1,"slide-content"],[1,"left-content"],[1,"right-content"],["class","discount",4,"ngIf"],[3,"click"],[1,"discount"],[1,"percentage"],[1,"text"],[1,"dots"],["class","dot",3,"active","disabled","click",4,"ngFor","ngForOf"],[1,"dot",3,"click","disabled"]],template:function(t,n){if(t&1){let s=O();r(0,"div",1)(1,"div",2),f("touchstart",function(C){return h(s),_(n.onTouchStart(C))})("touchmove",function(C){return h(s),_(n.onTouchMove(C))})("touchend",function(C){return h(s),_(n.onTouchEnd(C))}),u(2,ft,3,0,"div",3),r(3,"div",4,0),u(5,_t,13,11,"div",5),a(),u(6,xt,2,1,"div",6),a()()}t&2&&(o(),w("loading",n.loading),o(),c("ngIf",n.loading),o(3),c("ngForOf",n.featuredAds),o(),c("ngIf",!n.loading&&n.featuredAds.length>1))},dependencies:[k,y],styles:['.featured-slider[_ngcontent-%COMP%]{width:100%;padding:0;margin:0}.slider-container[_ngcontent-%COMP%]{position:relative;width:calc(100% - 2rem);height:180px;border-radius:1.5rem;overflow:hidden;background-color:#111827;box-shadow:0 1px 3px #0000001a;margin:1rem auto;max-width:1200px}.slider-container.loading[_ngcontent-%COMP%]{background-color:#f3f4f6}.slides-wrapper[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;overflow:hidden}.slide[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;transition:transform .5s ease-in-out;direction:ltr}.slide.active[_ngcontent-%COMP%]{z-index:1}.slide[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:linear-gradient(to right,#000000b3,#0006,#000000b3);z-index:1}.slide[_ngcontent-%COMP%]   .slide-content[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;z-index:2;padding:1.5rem;display:flex;justify-content:space-between;align-items:center}.slide[_ngcontent-%COMP%]   .left-content[_ngcontent-%COMP%]{width:50%;display:flex;flex-direction:column;justify-content:center;padding-right:2rem;text-align:left}.slide[_ngcontent-%COMP%]   .left-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#fff;margin:0 0 .5rem;line-height:1.2;text-shadow:2px 2px 4px rgba(0,0,0,.3)}.slide[_ngcontent-%COMP%]   .left-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.125rem;color:#f3f4f6;margin:0;line-height:1.4;text-shadow:1px 1px 2px rgba(0,0,0,.2)}.slide[_ngcontent-%COMP%]   .right-content[_ngcontent-%COMP%]{width:40%;display:flex;flex-direction:column;align-items:center;gap:1rem;margin-left:2rem}.slide[_ngcontent-%COMP%]   .right-content[_ngcontent-%COMP%]   .discount[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;background:#ffffff1a;padding:1rem;border-radius:1rem}.slide[_ngcontent-%COMP%]   .right-content[_ngcontent-%COMP%]   .discount[_ngcontent-%COMP%]   .percentage[_ngcontent-%COMP%]{font-size:3rem;font-weight:800;color:#fff;line-height:1;text-shadow:2px 2px 4px rgba(0,0,0,.3)}.slide[_ngcontent-%COMP%]   .right-content[_ngcontent-%COMP%]   .discount[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{font-size:1.5rem;color:#fff;text-transform:uppercase;font-weight:600;margin-top:.25rem}.slide[_ngcontent-%COMP%]   .right-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.75rem 2rem;background-color:#e24c4c;color:#fff;border:none;border-radius:.5rem;font-weight:600;font-size:1rem;cursor:pointer;transition:all .2s ease;text-transform:uppercase;letter-spacing:.5px;width:auto;min-width:160px;text-align:center}.slide[_ngcontent-%COMP%]   .right-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#d43a3a;transform:translateY(-1px);box-shadow:0 4px 6px #0003}.slide[_ngcontent-%COMP%]   .right-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{transform:translateY(0)}.slide[_ngcontent-%COMP%]   .background-image[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;z-index:0}.slide[_ngcontent-%COMP%]   .background-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.dots[_ngcontent-%COMP%]{position:absolute;bottom:1rem;left:50%;transform:translate(-50%);display:flex;gap:.5rem;z-index:3}.dots[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{width:.5rem;height:.5rem;padding:0;border-radius:50%;background-color:#ffffff4d;border:none;cursor:pointer;transition:all .2s ease}.dots[_ngcontent-%COMP%]   .dot.active[_ngcontent-%COMP%]{background-color:#fff;transform:scale(1.2)}.dots[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:hover:not(.active):not(:disabled){background-color:#ffffff80}.dots[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:disabled{cursor:not-allowed}.loading-indicator[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);color:#6b7280;z-index:2}@media (max-width: 768px){.slider-container[_ngcontent-%COMP%]{height:160px}.slide[_ngcontent-%COMP%]   .slide-content[_ngcontent-%COMP%]{padding:1rem}.slide[_ngcontent-%COMP%]   .left-content[_ngcontent-%COMP%]{padding-right:1rem}.slide[_ngcontent-%COMP%]   .left-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem}.slide[_ngcontent-%COMP%]   .left-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}.slide[_ngcontent-%COMP%]   .right-content[_ngcontent-%COMP%]{margin-left:1rem}.slide[_ngcontent-%COMP%]   .right-content[_ngcontent-%COMP%]   .discount[_ngcontent-%COMP%]{padding:.75rem}.slide[_ngcontent-%COMP%]   .right-content[_ngcontent-%COMP%]   .discount[_ngcontent-%COMP%]   .percentage[_ngcontent-%COMP%]{font-size:2rem}.slide[_ngcontent-%COMP%]   .right-content[_ngcontent-%COMP%]   .discount[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{font-size:1rem}.slide[_ngcontent-%COMP%]   .right-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.5rem 1.25rem;font-size:.875rem;min-width:120px}}'],data:{animation:[z("slideAnimation",[F(":increment",[S({transform:"translateX(100%)"}),E("500ms ease-out",S({transform:"translateX(0)"}))]),F(":decrement",[S({transform:"translateX(-100%)"}),E("500ms ease-out",S({transform:"translateX(0)"}))])])]}})}}return i})();var St=["serviceCard"],Ee=(()=>{class i{constructor(e,t,n){this.router=e,this.workerService=t,this.servicesService=n,this.services=[],this.topSubServices=[],this.topWorkers=[],this.mainServicesMap=new Map,this.cardStates={},this.isLoading=!0,this.errorMessage=null,this.destroy$=new L}ngOnInit(){this.loadInitialData()}ngAfterViewInit(){setTimeout(()=>{this.initializeAnimations()},100)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadInitialData(){this.isLoading=!0,this.errorMessage=null;let e=this.servicesService.getAllServices(),t=this.workerService.getTopWorkers(3);Z({services:e,workers:t}).pipe(R(this.destroy$),$(()=>{setTimeout(()=>{this.isLoading=!1,this.initializeAnimations()},300)})).subscribe({next:({services:n,workers:s})=>{this.services=n,this.topWorkers=s,this.processTrendySubServices(n),this.services.forEach((m,C)=>{this.cardStates[C]=!1})},error:n=>{console.error("Error loading data:",n),this.errorMessage="\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A. \u064A\u0631\u062C\u0649 \u0627\u0644\u0645\u062D\u0627\u0648\u0644\u0629 \u0645\u0631\u0629 \u0623\u062E\u0631\u0649.",this.isLoading=!1}})}processTrendySubServices(e){let t=[];e.forEach(n=>{this.mainServicesMap.set(n.id,n);let{totalRequests:s,trend:m,trendValue:C}=n;n.subServices?.forEach(G=>{s&&m&&C&&t.push(K(B({},G),{totalRequests:s,trend:m,trendValue:C}))})}),this.topSubServices=t.sort((n,s)=>s.totalRequests-n.totalRequests).slice(0,3)}initializeAnimations(){this.services.length&&this.services.forEach((e,t)=>{setTimeout(()=>{this.cardStates[t]=!0},t*100)})}handleServiceClick(e){e===-1?this.router.navigate(["/services","all-services"]):this.router.navigate(["/services",e])}static{this.\u0275fac=function(t){return new(t||i)(v(I),v(ve),v(N))}}static{this.\u0275cmp=P({type:i,selectors:[["app-home"]],viewQuery:function(t,n){if(t&1&&H(St,5),t&2){let s;D(s=W())&&(n.serviceCards=s)}},decls:6,vars:10,consts:[[1,"min-h-screen","bg-gray-50"],[3,"services","mainServicesMap"],[3,"serviceClick","services","isLoading","cardStates"],[3,"topWorkers","isLoading"],[3,"topSubServices","isLoading","mainServicesMap"]],template:function(t,n){t&1&&(r(0,"div",0),p(1,"app-search-header",1)(2,"app-featured-slider"),r(3,"app-services-grid",2),f("serviceClick",function(m){return n.handleServiceClick(m)}),a(),p(4,"app-top-workers",3)(5,"app-trending-services",4),a()),t&2&&(o(),c("services",n.services)("mainServicesMap",n.mainServicesMap),o(2),c("services",n.services)("isLoading",n.isLoading)("cardStates",n.cardStates),o(),c("topWorkers",n.topWorkers)("isLoading",n.isLoading),o(),c("topSubServices",n.topSubServices)("isLoading",n.isLoading)("mainServicesMap",n.mainServicesMap))},dependencies:[Pe,we,ke,ye,Te],styles:["[_nghost-%COMP%]{display:block;min-height:100vh;background-color:#f8f9fa;padding-bottom:5rem;overflow-x:hidden}.home-container[_ngcontent-%COMP%]{max-width:768px;margin:0 auto;padding-bottom:80px}.services-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:1rem;transition:all .3s ease-in-out}.services-grid.collapsed[_ngcontent-%COMP%]{max-height:0;opacity:0;margin:0;padding:0}.animate-fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease-in-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}@media (max-width: 640px){.services-grid[_ngcontent-%COMP%]{gap:.75rem}}"],data:{animation:[z("fadeInUp",[j("void",S({opacity:0,transform:"translateY(20px)"})),j("in",S({opacity:1,transform:"translateY(0)"})),F("void => in",[E("0.8s 0.3s ease-out")])])]}})}}return i})();var dn=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=oe({type:i})}static{this.\u0275inj=re({imports:[he,Oe,be,_e.forChild([{path:"",component:Ee},{path:"worker/:id",component:xe,data:{scrollPositionRestoration:"top"}}])]})}}return i})();export{dn as HomeModule};
