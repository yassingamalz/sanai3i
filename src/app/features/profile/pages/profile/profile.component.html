<div class="profile-container" dir="rtl">
  <!-- Header -->
  <header class="profile-header">
    <div class="header-content">
      <i class="fas fa-chevron-left text-white"></i>
      <h1>الإعدادات</h1>
    </div>
  </header>

  <!-- Profile Card -->
  <div class="profile-card-wrapper">
    <div class="profile-card">
      <div class="profile-info">
        <img [src]="'/api/placeholder/96/96'" [alt]="userData.name" />
        <div class="user-details">
          <h2>{{userData.name}}</h2>
          <p>{{userData.type}}</p>
        </div>
        <i class="fas fa-chevron-left"></i>
      </div>
    </div>
  </div>

  <!-- Settings Sections -->
  <div class="settings-container">
    <!-- Addresses Section -->
    <div class="settings-section">
      <div class="section-header">
        <h3>العناوين</h3>
      </div>
      <div class="addresses-list">
        <div *ngFor="let address of userData.addresses"
             [class.selected]="address.isDefault"
             class="address-card"
             (click)="setDefaultAddress(address.id)">
          <div class="address-info">
            <div class="address-title">{{address.title}}</div>
            <div class="address-details">{{address.details}}</div>
          </div>
          <i *ngIf="address.isDefault" class="fas fa-check"></i>
        </div>
      </div>
    </div>

    <!-- Other Sections -->
    <div *ngFor="let section of filteredSections" 
         class="settings-section">
      <div class="section-header" 
           (click)="toggleSection(section.id)">
        <div class="header-title">
          <i class="fas fa-{{section.icon}}"></i>
          <span>{{section.title}}</span>
        </div>
        <i class="fas fa-chevron-left"
           [class.expanded]="expandedSections[section.id]">
        </i>
      </div>

      <div class="section-content" 
           *ngIf="expandedSections[section.id]"
           [@expandCollapse]>
        <!-- Wallet Section -->
        <ng-container *ngIf="section.id === 'wallet' && userType === 'worker'">
          <div class="wallet-content">
            <div class="balance">{{userData.balance}} جنيه</div>
            <div class="balance-label">الرصيد الحالي</div>
          </div>
        </ng-container>

        <!-- Personal Info Section -->
        <ng-container *ngIf="section.id === 'personal'">
          <div class="personal-info">
            <div class="info-item">
              <i class="fas fa-phone"></i>
              <span>{{userData.phone}}</span>
            </div>
            <div class="info-item">
              <i class="fas fa-envelope"></i>
              <span>{{userData.email}}</span>
            </div>
            <div class="info-item" *ngIf="userType === 'worker'">
              <i class="fas fa-star"></i>
              <span>{{userData.rating}} تقييم</span>
            </div>
          </div>
        </ng-container>
      </div>
    </div>

    <!-- Logout Button -->
    <button class="logout-button" (click)="onLogout()">
      <i class="fas fa-sign-out-alt"></i>
      <span>تسجيل الخروج</span>
    </button>
  </div>
</div>