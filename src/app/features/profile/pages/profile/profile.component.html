<div class="profile-container" dir="rtl">
  <!-- Header -->
  <header class="profile-header">
    <div class="header-content">
      <i class="fas fa-gear fa-2xl text-white"></i>
      <h1>الإعدادات</h1>
    </div>
  </header>

  <!-- Profile Card -->
  <div class="profile-card-wrapper">
    <div class="profile-card">
      <div class="profile-info">
        <img [src]="'/api/placeholder/96/96'" [alt]="userData.name" />
        <div class="user-details">
          <div class="name-rating">
            <h2>{{userData.name}}</h2>
            <div class="rating" *ngIf="isWorker">
              <span>{{userData.rating}}</span>
              <i class="fas fa-star"></i>
            </div>
          </div>
          <p>{{userData.type}}</p>
        </div>
        <i class="fas fa-chevron-left"></i>
      </div>
    </div>
  </div>

  <!-- Stats Grid - Only shown for workers -->
  <div class="stats-grid" *ngIf="isWorker">
    <div class="stat-card" *ngFor="let stat of stats">
      <div class="stat-value">{{stat.value}}</div>
      <div class="stat-title">{{stat.title}}</div>
    </div>
  </div>

  <!-- Settings Sections -->
  <div class="settings-container">
    <div *ngFor="let section of filteredSections" class="settings-section">
      <div class="section-header" (click)="toggleSection(section.id)">
        <div class="header-title">
          <i class="fas fa-{{section.icon}}"></i>
          <span>{{section.title}}</span>
        </div>
        <i class="fas fa-chevron-left" [class.expanded]="expandedSections[section.id]"></i>
      </div>

      <div class="section-content" *ngIf="expandedSections[section.id]" [@expandCollapse]>
        <!-- Wallet Section -->
        <ng-container *ngIf="section.id === 'wallet' && isWorker">
          <div class="wallet-content">
            <div class="balance">{{userData.balance}} جنيه</div>
            <div class="balance-label">الرصيد الحالي</div>
          </div>
        </ng-container>

        <!-- Personal Info Section -->
        <ng-container *ngIf="section.id === 'personal'">
          <div class="personal-info">
            <div class="info-item">
              <i class="fas fa-phone"></i>
              <span>{{userData.phone}}</span>
            </div>
            <div class="info-item">
              <i class="fas fa-envelope"></i>
              <span>{{userData.email}}</span>
            </div>
          </div>
        </ng-container>
      </div>
    </div>

    <!-- Logout Button -->
    <button class="logout-button" (click)="onLogout()">
      <i class="fas fa-sign-out-alt"></i>
      <span>تسجيل الخروج</span>
    </button>
  </div>
</div>