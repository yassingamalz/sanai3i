import{c as Q,e as N,h as W,v as A}from"./chunk-C57FOMMB.js";import{j as z}from"./chunk-YMAZRRKX.js";import{Bb as k,Cb as m,Ib as s,Jb as u,Kb as l,Mb as E,Nb as I,Ob as S,Ua as y,Ya as o,a as M,b as h,ba as x,la as v,ma as b,nb as g,pb as c,rb as f,ua as O,ub as r,va as P,vb as i,vc as F,wb as p,wc as j,xc as T,zb as w}from"./chunk-YEEZGBIQ.js";function B(t,d){if(t&1){let e=w();r(0,"button",14),k("click",function(){let a=O(e).$implicit,C=m();return P(C.setActiveFilter(a.id))}),s(1),i()}if(t&2){let e=d.$implicit;f("pill-active",e.active)("pill-inactive",!e.active),o(),l(" ",e.label," ")}}function U(t,d){if(t&1&&(r(0,"div",34),s(1),i()),t&2){let e=m().$implicit;o(),l(" ",e.unread," ")}}function $(t,d){t&1&&p(0,"div",35)}function L(t,d){if(t&1&&(r(0,"span",36),s(1),i()),t&2){let e=m().$implicit;o(),l(" (",e.jobCount," \u062E\u062F\u0645\u0629) ")}}function R(t,d){if(t&1&&(r(0,"div",15)(1,"div",16)(2,"div",17)(3,"span",18),s(4),i(),g(5,U,2,1,"div",19),i(),r(6,"div",20)(7,"div",21)(8,"div",22),p(9,"img",23),g(10,$,1,0,"div",24),i(),r(11,"div",25)(12,"h3",26),s(13),i(),r(14,"div",27)(15,"span",28),p(16,"i",29),s(17),i(),r(18,"span",30),s(19,"\u2022"),i(),r(20,"span",31),s(21),i(),g(22,L,2,1,"span",32),i()()()(),r(23,"p",33),s(24),i()()()),t&2){let e=d.$implicit;f("unread",e.unread),o(4),u(e.time),o(),c("ngIf",e.unread),o(4),c("src",e.image,y)("alt",e.name),o(),c("ngIf",e.isOnline),o(3),u(e.name),o(4),l(" ",e.rating," "),o(4),u(e.service),o(),c("ngIf",e.jobCount),o(),f("unread-message",e.unread),o(),l(" ",e.message," ")}}var D=(()=>{class t{constructor(){this.searchQuery="",this.filters=[{id:"all",label:"\u0627\u0644\u0643\u0644",active:!0},{id:"unread",label:"\u063A\u064A\u0631 \u0645\u0642\u0631\u0648\u0621\u0629",active:!1},{id:"read",label:"\u0645\u0642\u0631\u0648\u0621\u0629",active:!1}],this.messages=[{id:1,name:"\u0639\u0645 \u062D\u0633\u0646",message:"\u062D\u0627\u0643\u0648\u0646 \u0639\u0646\u062F\u0643 \u062E\u0644\u0627\u0644 \u0633\u0627\u0639\u0629",time:"12:30",unread:2,service:"\u0643\u0647\u0631\u0628\u0627\u0626\u064A",rating:4.8,isWorker:!0,image:"/api/placeholder/48/48",status:"online",isOnline:!0,jobCount:230},{id:2,name:"\u0623\u0633\u062A\u0627\u0630 \u0645\u062D\u0645\u062F",message:"\u0634\u0643\u0631\u0627\u064B \u0639\u0644\u0649 \u062A\u0642\u064A\u064A\u0645\u0643",time:"11:45",unread:0,service:"\u0633\u0628\u0627\u0643",rating:4.9,isWorker:!0,image:"/api/placeholder/48/48",jobCount:180},{id:3,name:"\u0627\u0644\u062D\u0627\u062C \u0643\u0631\u064A\u0645",message:"\u064A\u0645\u0643\u0646\u0646\u064A \u0627\u0644\u062D\u0636\u0648\u0631 \u063A\u062F\u0627\u064B \u0641\u064A \u0627\u0644\u0635\u0628\u0627\u062D",time:"\u0623\u0645\u0633",unread:1,service:"\u0646\u0642\u0627\u0634",rating:4.7,isWorker:!0,image:"/api/placeholder/48/48",isOnline:!1,jobCount:150}]}ngOnInit(){}setActiveFilter(e){this.filters=this.filters.map(n=>h(M({},n),{active:n.id===e}))}get filteredMessages(){let e=this.filters.find(a=>a.active)?.id,n=this.messages;return this.searchQuery&&(n=n.filter(a=>a.name.includes(this.searchQuery)||a.message.includes(this.searchQuery)||a.service.includes(this.searchQuery))),e==="unread"?n=n.filter(a=>a.unread>0):e==="read"&&(n=n.filter(a=>!a.unread)),n}getTotalUnreadCount(){return this.messages.reduce((e,n)=>e+(n.unread||0),0)}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=v({type:t,selectors:[["app-messages"]],decls:17,vars:4,consts:[["dir","rtl",1,"messages-container"],[1,"header"],[1,"header-content"],[1,"header-title"],[1,"fas","fa-comment"],[1,"unread-badge"],[1,"search-bar"],[1,"search-input-container"],["type","text","placeholder","\u0627\u0628\u062D\u062B \u0641\u064A \u0627\u0644\u0645\u062D\u0627\u062F\u062B\u0627\u062A...",1,"search-input",3,"ngModelChange","ngModel"],[1,"fas","fa-search"],[1,"filter-pills"],[3,"pill-active","pill-inactive","click",4,"ngFor","ngForOf"],[1,"messages-list"],["class","message-card",3,"unread",4,"ngFor","ngForOf"],[3,"click"],[1,"message-card"],[1,"message-content"],[1,"message-meta"],[1,"time"],["class","unread-count",4,"ngIf"],[1,"message-header"],[1,"user-info"],[1,"avatar-container"],[1,"avatar",3,"src","alt"],["class","online-indicator",4,"ngIf"],[1,"user-details"],[1,"user-name"],[1,"user-meta"],[1,"rating"],[1,"fas","fa-star"],[1,"separator"],[1,"service"],["class","job-count",4,"ngIf"],[1,"message-preview"],[1,"unread-count"],[1,"online-indicator"],[1,"job-count"]],template:function(n,a){n&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),p(4,"i",4),r(5,"h1"),s(6,"\u0627\u0644\u0631\u0633\u0627\u0626\u0644"),i(),r(7,"div",5),s(8),i()()(),r(9,"div",6)(10,"div",7)(11,"input",8),S("ngModelChange",function(_){return I(a.searchQuery,_)||(a.searchQuery=_),_}),i(),p(12,"i",9),i()(),r(13,"div",10),g(14,B,2,5,"button",11),i()(),r(15,"div",12),g(16,R,25,14,"div",13),i()()),n&2&&(o(8),l(" ",a.getTotalUnreadCount()," "),o(3),E("ngModel",a.searchQuery),o(3),c("ngForOf",a.filters),o(2),c("ngForOf",a.filteredMessages))},dependencies:[F,j,Q,N,W],styles:['[_nghost-%COMP%]{display:block}.messages-container[_ngcontent-%COMP%]{min-height:100vh;background-color:#f8f9fa}.header[_ngcontent-%COMP%]{background-color:#ef4444;padding:24px 16px 16px}.header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px}.header[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;position:relative}.header[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fff;font-size:20px}.header[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:20px;font-weight:700}.header[_ngcontent-%COMP%]   .unread-badge[_ngcontent-%COMP%]{position:absolute;left:-48px;display:flex;align-items:center;justify-content:center;background:#fff3;color:#fff;font-weight:700;padding:2px 8px;border-radius:999px;min-width:24px}.search-bar[_ngcontent-%COMP%]{margin-bottom:16px}.search-bar[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]{display:flex;align-items:center;background:#ffffff1a;border-radius:8px;overflow:hidden}.search-bar[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{flex:1;background:transparent;border:none;padding:10px 16px;color:#fff;font-size:14px}.search-bar[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]::placeholder{color:#ffffffb3}.search-bar[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]:focus{outline:none}.search-bar[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#ffffffb3;margin:0 16px}.filter-pills[_ngcontent-%COMP%]{display:flex;gap:8px;overflow-x:auto;padding:4px 0;-webkit-overflow-scrolling:touch;scrollbar-width:none;-ms-overflow-style:none}.filter-pills[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.filter-pills[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:6px 24px;border-radius:50px;font-size:14px;font-weight:500;white-space:nowrap;transition:all .2s ease;border:1px solid rgba(255,255,255,.2);background:transparent;color:#fff}.filter-pills[_ngcontent-%COMP%]   button.pill-inactive[_ngcontent-%COMP%]{background:#fff3}.filter-pills[_ngcontent-%COMP%]   button.pill-inactive[_ngcontent-%COMP%]:hover{background:#ffffff4d}.filter-pills[_ngcontent-%COMP%]   button.pill-active[_ngcontent-%COMP%]{background:#fff;color:#ef4444;border-color:#fff}.filter-pills[_ngcontent-%COMP%]   button.pill-active[_ngcontent-%COMP%]:hover{background:#ffffffe6}.messages-list[_ngcontent-%COMP%]{padding:16px}.message-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;margin-bottom:12px;overflow:hidden;box-shadow:0 2px 4px #0000000d;position:relative;transition:all .2s ease}.message-card.unread[_ngcontent-%COMP%]:before{content:"";position:absolute;left:0;top:0;bottom:0;width:4px;background-color:#ef4444;border-radius:4px 0 0 4px}.message-card[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 4px 8px #0000001a}.message-card[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]{padding:16px}.message-card[_ngcontent-%COMP%]   .message-meta[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;position:absolute;left:16px;top:16px}.message-card[_ngcontent-%COMP%]   .message-meta[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{color:#6b7280;font-size:14px}.message-card[_ngcontent-%COMP%]   .message-meta[_ngcontent-%COMP%]   .unread-count[_ngcontent-%COMP%]{background:#ef4444;color:#fff;font-size:12px;font-weight:700;min-width:20px;height:20px;display:flex;align-items:center;justify-content:center;border-radius:999px;padding:0 6px}.user-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.avatar-container[_ngcontent-%COMP%]{position:relative}.avatar-container[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:999px;object-fit:cover;background-color:#f3f4f6}.avatar-container[_ngcontent-%COMP%]   .online-indicator[_ngcontent-%COMP%]{position:absolute;bottom:0;right:0;width:14px;height:14px;background-color:#10b981;border-radius:999px;border:2px solid white}.user-details[_ngcontent-%COMP%]   .user-name[_ngcontent-%COMP%]{font-weight:700;color:#111827;margin-bottom:4px}.user-details[_ngcontent-%COMP%]   .user-meta[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-size:14px;color:#6b7280}.user-details[_ngcontent-%COMP%]   .user-meta[_ngcontent-%COMP%]   .rating[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px}.user-details[_ngcontent-%COMP%]   .user-meta[_ngcontent-%COMP%]   .rating[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fbbf24}.user-details[_ngcontent-%COMP%]   .user-meta[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{color:#d1d5db}.user-details[_ngcontent-%COMP%]   .user-meta[_ngcontent-%COMP%]   .job-count[_ngcontent-%COMP%]{color:#9ca3af}.message-preview[_ngcontent-%COMP%]{color:#4b5563;margin-top:8px;font-size:14px;line-height:1.5;overflow:hidden;display:-webkit-box;-webkit-line-clamp:2;line-clamp:2;-webkit-box-orient:vertical}.message-preview.unread-message[_ngcontent-%COMP%]{font-weight:500}']})}}return t})();var ee=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275mod=b({type:t})}static{this.\u0275inj=x({imports:[T,A,z.forChild([{path:"",component:D}])]})}}return t})();export{ee as MessagesModule};
