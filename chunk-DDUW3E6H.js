import{a as D}from"./chunk-UNY2NVQQ.js";import{c as V,d as Y,g as b,h as O,i as Q}from"./chunk-VSLMR3JL.js";import{a as L}from"./chunk-YVZYUTZR.js";import{d as U}from"./chunk-YPL5F3LP.js";import"./chunk-I5GBLPT4.js";import{t as R}from"./chunk-AH2J6Y2V.js";import{$ as I,Aa as s,B as u,Ba as m,Ca as C,Da as W,G as P,L as k,M as y,R as S,S as E,Wa as j,Za as H,ba as c,ca as x,g as h,gb as A,ia as f,jb as $,ka as l,la as v,oa as t,pa as i,qa as d,ta as F,u as M,ua as g,va as _,wa as T,x as w,xa as z,ya as B}from"./chunk-7CY22HRV.js";var G=["serviceCard"];function K(a,p){if(a&1&&(t(0,"div",22,0)(2,"div",23),s(3),i(),t(4,"h3",24),s(5),i(),t(6,"p",25),s(7),i()()),a&2){let e=p.$implicit,n=p.index,r=_();l("@fadeInUp",r.shouldAnimate(n)?"in":"void"),c(3),m(e.icon),c(2),m(e.name),c(2),m(e.description)}}function X(a,p){if(a&1){let e=F();t(0,"div",26),g("click",function(){let r=S(e).$implicit,o=_();return E(o.onWorkerClick(r))}),d(1,"img",27),t(2,"div",28)(3,"h3",24),s(4),i(),t(5,"p",25),s(6),i(),t(7,"div",29),d(8,"i",30),t(9,"span"),s(10),i()()(),d(11,"i",31),i()}if(a&2){let e=p.$implicit;c(),l("src",e.image,I)("alt",e.name),c(3),m(e.name),c(2),m(e.service),c(4),W("",e.rating," \u2022 ",e.completedJobs," \u062E\u062F\u0645\u0629")}}function Z(a,p){if(a&1&&(t(0,"div",32)(1,"div",33)(2,"div",34)(3,"h3",24),s(4),i(),t(5,"span",20),s(6),i()(),t(7,"div",35),d(8,"i",36),t(9,"span",37),s(10),i()()()()),a&2){let e=p.$implicit;c(4),m(e.name),c(2),C("",e.count," \u0637\u0644\u0628"),c(2),v("fa-arrow-trend-up",e.trend==="up")("fa-arrow-trend-down",e.trend==="down")("text-success",e.trend==="up")("text-danger",e.trend==="down"),c(),v("text-success",e.trend==="up")("text-danger",e.trend==="down"),c(),C(" ",e.trendValue,"% ")}}var N=(()=>{class a{constructor(e,n){this.router=e,this.workerService=n,this.searchQuery="",this.searchSubject=new h,this.destroy$=new h,this.services=[{id:1,name:"\u0643\u0647\u0631\u0628\u0627\u0626\u064A",icon:"\u26A1",description:"\u062A\u0635\u0644\u064A\u062D \u0648\u0635\u064A\u0627\u0646\u0629 \u0643\u0647\u0631\u0628\u0627\u0621"},{id:2,name:"\u0633\u0628\u0627\u0643",icon:"\u{1F527}",description:"\u062A\u0635\u0644\u064A\u062D \u0645\u0648\u0627\u0633\u064A\u0631 \u0648\u062D\u0646\u0641\u064A\u0627\u062A"},{id:3,name:"\u0646\u062C\u0627\u0631",icon:"\u{1FA9A}",description:"\u062A\u0635\u0644\u064A\u062D \u0648\u0635\u064A\u0627\u0646\u0629 \u0627\u0644\u0623\u062B\u0627\u062B"},{id:4,name:"\u0646\u0642\u0627\u0634",icon:"\u{1F3A8}",description:"\u062F\u0647\u0627\u0646\u0627\u062A \u0648\u062F\u064A\u0643\u0648\u0631\u0627\u062A"},{id:5,name:"\u062A\u0643\u064A\u064A\u0641",icon:"\u2744\uFE0F",description:"\u0635\u064A\u0627\u0646\u0629 \u0648\u062A\u0631\u0643\u064A\u0628 \u062A\u0643\u064A\u064A\u0641\u0627\u062A"},{id:6,name:"\u062A\u0646\u0638\u064A\u0641",icon:"\u{1F9F9}",description:"\u062E\u062F\u0645\u0627\u062A \u0627\u0644\u0646\u0638\u0627\u0641\u0629 \u0627\u0644\u0645\u0646\u0632\u0644\u064A\u0629"}],this.topServices=[{id:1,name:"\u062A\u0635\u0644\u064A\u062D \u062A\u0643\u064A\u064A\u0641",count:120,trend:"up",trendValue:15},{id:2,name:"\u0633\u0628\u0627\u0643\u0629",count:95,trend:"up",trendValue:8},{id:3,name:"\u0643\u0647\u0631\u0628\u0627\u0621",count:85,trend:"down",trendValue:-5}],this.topWorkers=[],this.cardStates={},this.isLoading=!0,this.trackByServiceId=(r,o)=>o.id,this.trackByTopServiceId=(r,o)=>o.id,this.trackByWorkerId=(r,o)=>o.id,this.initializeCardStates(),this.setupSearchSubscription()}ngOnInit(){this.loadTopWorkers()}ngAfterViewInit(){setTimeout(()=>{this.isLoading=!1,this.setupIntersectionObserver()},100)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}setupSearchSubscription(){this.searchSubject.pipe(M(300),w(),u(this.destroy$)).subscribe(e=>{this.performSearch(e)})}onSearch(e){let n=e.target;this.searchQuery=n.value,this.searchSubject.next(this.searchQuery)}performSearch(e){e.trim()&&this.workerService.searchWorkers(e).pipe(u(this.destroy$)).subscribe(n=>{console.log("Search results:",n)})}clearSearch(){this.searchQuery="",this.searchSubject.next("")}loadTopWorkers(){this.workerService.getTopWorkers(3).pipe(u(this.destroy$)).subscribe(e=>{this.topWorkers=e})}navigateToFullList(e){this.router.navigate(["/services",e])}onWorkerClick(e){this.router.navigate(["/worker",e.id])}initializeCardStates(){this.services.forEach((e,n)=>{this.cardStates[n]=!1})}setupIntersectionObserver(){let e={root:null,rootMargin:"0px",threshold:.6},n=new IntersectionObserver(r=>{r.forEach(o=>{if(o.isIntersecting){let q=parseInt(o.target.getAttribute("data-index")||"0");this.cardStates[q]=!0,n.unobserve(o.target)}})},e);setTimeout(()=>{this.serviceCards.forEach((r,o)=>{r.nativeElement.setAttribute("data-index",o.toString()),n.observe(r.nativeElement)})})}shouldAnimate(e){return!this.isLoading&&this.cardStates[e]}static{this.\u0275fac=function(n){return new(n||a)(x(A),x(L))}}static{this.\u0275cmp=k({type:a,selectors:[["app-home"]],viewQuery:function(n,r){if(n&1&&T(G,5),n&2){let o;z(o=B())&&(r.serviceCards=o)}},decls:40,vars:6,consts:[["serviceCard",""],[1,"bg-[#ef4444]"],[1,"px-4","pt-8","pb-3"],[1,"bg-white","rounded-full","flex","items-center","h-11","shadow-sm"],[1,"flex-1","text-gray-700","text-sm","mr-4","text-right"],[1,"fas","fa-search","text-gray-400","ml-2"],[1,"flex","items-center","ml-4"],[1,"fas","fa-home","text-[#ef4444]","text-lg"],[1,"text-[#ef4444]","mr-2","font-medium"],[1,"content-section"],[1,"section-header"],[1,"header-content"],[1,"section-title"],[1,"header-icons",3,"click"],[1,"fas","fa-chevron-left"],[1,"services-grid"],["class","grid-card",4,"ngFor","ngForOf","ngForTrackBy"],[1,"cards-container"],["class","worker-card",3,"click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"header-title"],[1,"request-count"],["class","service-card",4,"ngFor","ngForOf","ngForTrackBy"],[1,"grid-card"],[1,"service-icon"],[1,"card-title"],[1,"card-subtitle"],[1,"worker-card",3,"click"],[1,"worker-image",3,"src","alt"],[1,"worker-info"],[1,"rating"],[1,"fas","fa-star"],[1,"fas","fa-chevron-right","arrow-icon"],[1,"service-card"],[1,"service-content"],[1,"service-info"],[1,"trend-container"],[1,"fa-solid"],[1,"trend-value"]],template:function(n,r){n&1&&(t(0,"header",1)(1,"div",2)(2,"div",3)(3,"span",4),d(4,"i",5),s(5," \u0627\u0644\u0628\u062D\u062B \u0639\u0646 \u062E\u062F\u0645\u0629 "),i(),t(6,"div",6),d(7,"i",7),t(8,"span",8),s(9,"\u0627\u0644\u0631\u0626\u064A\u0633\u064A\u0629"),i()()()()(),t(10,"section",9)(11,"div",10)(12,"div",11)(13,"h2",12),s(14,"\u0643\u0644 \u0627\u0644\u062E\u062F\u0645\u0627\u062A"),i(),t(15,"div",13),g("click",function(){return r.navigateToFullList("all-services")}),d(16,"i",14),i()()(),t(17,"div",15),f(18,K,8,4,"div",16),i()(),t(19,"section",9)(20,"div",10)(21,"div",11)(22,"h2",12),s(23,"\u0623\u0641\u0636\u0644 \u0627\u0644\u0635\u0646\u0627\u064A\u0639\u064A\u0629"),i(),t(24,"div",13),g("click",function(){return r.navigateToFullList("top-workers")}),d(25,"i",14),i()()(),t(26,"div",17),f(27,X,12,6,"div",18),i()(),t(28,"section",9)(29,"div",10)(30,"div",11)(31,"div",19)(32,"h2",12),s(33,"\u0627\u0644\u062E\u062F\u0645\u0627\u062A \u0627\u0644\u0623\u0643\u062B\u0631 \u0637\u0644\u0628\u0627\u064B"),i(),t(34,"span",20),s(35,"85 \u0637\u0644\u0628"),i()(),t(36,"div",13),g("click",function(){return r.navigateToFullList("top-services")}),d(37,"i",14),i()()(),t(38,"div",17),f(39,Z,11,15,"div",21),i()()),n&2&&(c(18),l("ngForOf",r.services)("ngForTrackBy",r.trackByServiceId),c(9),l("ngForOf",r.topWorkers)("ngForTrackBy",r.trackByWorkerId),c(12),l("ngForOf",r.topServices)("ngForTrackBy",r.trackByServiceId))},dependencies:[j],styles:["[_nghost-%COMP%]{display:block;min-height:100vh;background-color:#f8f9fa;padding-bottom:5rem;overflow-x:hidden}.header-section[_ngcontent-%COMP%]{background:linear-gradient(to bottom,#ef4444,#ef4444);min-height:120px;padding:2rem 1rem 1.5rem;margin-bottom:-1rem}.header-content[_ngcontent-%COMP%]{max-width:48rem;margin:0 auto}.title-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin-bottom:1rem;padding:0 .5rem}.title-wrapper[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fff;font-size:1.5rem}.title-wrapper[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:1.25rem;font-weight:600}.search-wrapper[_ngcontent-%COMP%]{position:relative;background:#fff;border-radius:9999px;height:3rem;padding:0 1.25rem;box-shadow:0 2px 4px #0000001a}.search-wrapper[_ngcontent-%COMP%]:focus-within{box-shadow:0 4px 6px #0000001a}.search-input[_ngcontent-%COMP%]{width:100%;height:100%;background:transparent;border:none;outline:none;text-align:right;direction:rtl;font-size:1rem;color:#1f2937;padding-left:2.5rem}.search-icon[_ngcontent-%COMP%]{position:absolute;left:1.25rem;top:50%;transform:translateY(-50%);color:#9ca3af;font-size:1.25rem}@media (max-width: 640px){.header-section[_ngcontent-%COMP%]{padding:1.5rem 1rem 1.25rem}.title-wrapper[_ngcontent-%COMP%]{margin-bottom:.75rem}.title-wrapper[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.125rem}.search-wrapper[_ngcontent-%COMP%]{height:2.75rem}}.home-container[_ngcontent-%COMP%]{max-width:768px;margin:0 auto;padding-bottom:80px}.search-section[_ngcontent-%COMP%]{background-color:#ef4444;padding:1.5rem 1rem;margin-bottom:1rem}.search-wrapper[_ngcontent-%COMP%]{position:relative;background:#fff;border-radius:999px;padding:.75rem;box-shadow:0 2px 4px #0000001a}.search-wrapper[_ngcontent-%COMP%]:focus-within{box-shadow:0 0 0 2px #e24c4c33}.search-input[_ngcontent-%COMP%]{width:100%;padding:.5rem 2.5rem .5rem 1rem;border:none;background:transparent;font-size:1rem;outline:none;direction:rtl}.search-input[_ngcontent-%COMP%]::placeholder{color:#9ca3af}.search-icon[_ngcontent-%COMP%]{position:absolute;right:1.25rem;top:50%;transform:translateY(-50%);color:#9ca3af;font-size:1.1rem}.section-header[_ngcontent-%COMP%]{cursor:pointer;-webkit-user-select:none;user-select:none;padding:1rem;transition:background-color .2s ease;border-radius:.5rem}.section-header[_ngcontent-%COMP%]:hover{background-color:#e24c4c0d}.section-header[_ngcontent-%COMP%]:hover   .fa-chevron-left[_ngcontent-%COMP%]{color:#ef4444}.header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:0 .5rem}.header-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.header-icons[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.section-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:700;color:#1f2937}.content-section[_ngcontent-%COMP%]{padding:.5rem 1rem;margin-bottom:1rem}.cards-container[_ngcontent-%COMP%]{transition:all .3s ease-in-out;max-height:2000px;opacity:1;overflow:hidden}.cards-container.collapsed[_ngcontent-%COMP%]{max-height:0;opacity:0;margin:0;padding:0}.service-card[_ngcontent-%COMP%]{background:#fff;border-radius:1rem;padding:1.25rem;margin-bottom:.75rem;box-shadow:0 4px 6px -1px #0000000d,0 2px 4px -1px #00000008,0 10px 15px -3px #0000000d;transition:transform .2s ease,box-shadow .2s ease}.service-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 10px 20px -5px #e24c4c1a,0 4px 6px -2px #0000000d}.service-card[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.service-card[_ngcontent-%COMP%]   .service-info[_ngcontent-%COMP%]{text-align:right}.worker-card[_ngcontent-%COMP%]{background:#fff;border-radius:1rem;padding:1.25rem;margin-bottom:.75rem;display:flex;align-items:center;gap:1rem;box-shadow:0 4px 6px -1px #0000000d,0 2px 4px -1px #00000008,0 10px 15px -3px #0000000d;transition:transform .2s ease,box-shadow .2s ease}.worker-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 10px 20px -5px #e24c4c1a,0 4px 6px -2px #0000000d}.worker-image[_ngcontent-%COMP%]{width:4rem;height:4rem;border-radius:9999px;object-fit:cover}.worker-info[_ngcontent-%COMP%]{flex:1;text-align:right}.rating[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:.875rem;color:#6b7280;margin-top:.25rem}.rating[_ngcontent-%COMP%]   .fa-star[_ngcontent-%COMP%]{color:#fbbf24}.services-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:1rem;transition:all .3s ease-in-out}.services-grid.collapsed[_ngcontent-%COMP%]{max-height:0;opacity:0;margin:0;padding:0}.grid-card[_ngcontent-%COMP%]{background:#fff;border-radius:1rem;padding:1.5rem 1rem;text-align:center;box-shadow:0 4px 6px -1px #0000000d,0 2px 4px -1px #00000008,0 10px 15px -3px #0000000d;transition:transform .2s ease,box-shadow .2s ease}.grid-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 10px 20px -5px #e24c4c1a,0 4px 6px -2px #0000000d}.grid-card[_ngcontent-%COMP%]   .service-icon[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:.75rem}.card-title[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:#1f2937;margin-bottom:.25rem}.card-subtitle[_ngcontent-%COMP%]{font-size:.875rem;color:#6b7280;line-height:1.25}.request-count[_ngcontent-%COMP%]{font-size:.875rem;color:#085e0c;padding:.25rem .75rem;background-color:#13ba2c1a;border-radius:999px;white-space:nowrap}.fa-chevron-left[_ngcontent-%COMP%]{transition:transform .3s ease;color:#9ca3af;font-size:1rem}.fa-chevron-left.rotate-90[_ngcontent-%COMP%]{transform:rotate(-90deg)}.arrow-icon[_ngcontent-%COMP%]{color:#9ca3af;font-size:1rem}.trend-icon[_ngcontent-%COMP%]{font-size:1.25rem}.trend-icon.text-success[_ngcontent-%COMP%]{color:#10b981}.trend-icon.text-danger[_ngcontent-%COMP%], .text-primary[_ngcontent-%COMP%]{color:#ef4444}.text-success[_ngcontent-%COMP%]{color:#10b981}.text-danger[_ngcontent-%COMP%]{color:#ef4444}.mb-4[_ngcontent-%COMP%]{margin-bottom:1rem}.animate-fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease-in-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}@media (max-width: 640px){.services-grid[_ngcontent-%COMP%]{gap:.75rem}.grid-card[_ngcontent-%COMP%]{padding:1rem}.section-title[_ngcontent-%COMP%]{font-size:1.125rem}.worker-image[_ngcontent-%COMP%]{width:3.5rem;height:3.5rem}}.trend-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.trend-container[_ngcontent-%COMP%]   .trend-value[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500}.trend-container[_ngcontent-%COMP%]   .text-success[_ngcontent-%COMP%]{color:#10b981}.trend-container[_ngcontent-%COMP%]   .text-danger[_ngcontent-%COMP%]{color:#ef4444}"],data:{animation:[V("fadeInUp",[O("void",b({opacity:0,transform:"translateY(20px)"})),O("in",b({opacity:1,transform:"translateY(0)"})),Q("void => in",[Y("0.8s ease-out")])])]}})}}return a})();var ge=(()=>{class a{static{this.\u0275fac=function(n){return new(n||a)}}static{this.\u0275mod=y({type:a})}static{this.\u0275inj=P({imports:[H,U,R,$.forChild([{path:"",component:N},{path:"worker/:id",component:D,data:{scrollPositionRestoration:"top"}}])]})}}return a})();export{ge as HomeModule};
