import{a as g}from"./chunk-GSFSIO3W.js";import{A as b,B as j,C as k,D as x,E as v,F as R,G as p,b as w,c as A,d as O,e as s,f as S,g as m,h as c,j as l,k as d,m as f,n as M,o as r,p as a,q as i,t as C,x as h}from"./chunk-TGHMLDC2.js";var U=()=>["/"],z=()=>["/discover"],Y=()=>["/services"],G=()=>["/messages"],H=()=>["/profile"],L=(()=>{class t{constructor(o,e){this.router=o,this.authService=e}get currentRoute(){return this.router.url.split("/")[1]||"home"}get userType(){return this.authService.getCurrentUser()?.type||"customer"}get servicesLabel(){return this.userType==="worker"?"\u062E\u062F\u0645\u0627\u062A\u064A":"\u0637\u0644\u0628\u0627\u062A\u064A"}static{this.\u0275fac=function(e){return new(e||t)(d(v),d(g))}}static{this.\u0275cmp=m({type:t,selectors:[["app-nav-bar"]],decls:21,vars:18,consts:[[1,"nav-container"],[1,"nav-grid"],[1,"nav-item",3,"routerLink"],[1,"fas","fa-home"],[1,"fas","fa-compass"],[1,"center-button"],[1,"floating-button",3,"routerLink"],[1,"fas","fa-list"],[1,"fas","fa-envelope"],[1,"fas","fa-user"]],template:function(e,n){e&1&&(r(0,"nav",0)(1,"div",1)(2,"a",2),i(3,"i",3),r(4,"span"),C(5,"\u0627\u0644\u0631\u0626\u064A\u0633\u064A\u0629"),a()(),r(6,"a",2),i(7,"i",4),r(8,"span"),C(9,"\u0627\u0643\u062A\u0634\u0641"),a()(),r(10,"div",5)(11,"a",6),i(12,"i",7),a()(),r(13,"a",2),i(14,"i",8),r(15,"span"),C(16,"\u0627\u0644\u0631\u0633\u0627\u0626\u0644"),a()(),r(17,"a",2),i(18,"i",9),r(19,"span"),C(20,"\u062D\u0633\u0627\u0628\u064A"),a()()()()),e&2&&(l(2),M("active",n.currentRoute===""),f("routerLink",h(13,U)),l(4),M("active",n.currentRoute==="discover"),f("routerLink",h(14,z)),l(5),f("routerLink",h(15,Y)),l(2),M("active",n.currentRoute==="favorites"),f("routerLink",h(16,G)),l(4),M("active",n.currentRoute==="profile"),f("routerLink",h(17,H)))},dependencies:[R],styles:["[_nghost-%COMP%]{display:block;padding-bottom:env(safe-area-inset-bottom)}.nav-container[_ngcontent-%COMP%]{position:fixed;bottom:0;right:0;left:0;background-color:#fff;border-top:1px solid #e5e7eb;width:100%;z-index:50;backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px)}.nav-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(5,1fr);width:100%;padding:.75rem 0;gap:0}.nav-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;text-decoration:none;color:#9ca3af;width:100%;transition:color .2s ease}.nav-item.active[_ngcontent-%COMP%]{color:#ef4444}.nav-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.25rem;margin-bottom:.25rem}.nav-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.75rem}.center-button[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;display:flex;justify-content:center}.center-button[_ngcontent-%COMP%]   .floating-button[_ngcontent-%COMP%]{position:absolute;bottom:100%;width:3.5rem;height:3.5rem;background-color:#ef4444;border-radius:9999px;display:flex;align-items:center;justify-content:center;color:#fff;transform:translateY(50%);box-shadow:0 4px 6px -1px #0000001a;border:4px solid white;transition:transform .2s ease}.center-button[_ngcontent-%COMP%]   .floating-button[_ngcontent-%COMP%]:hover{transform:translateY(45%)}.center-button[_ngcontent-%COMP%]   .floating-button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.5rem}"]})}}return t})();var N=(()=>{class t{constructor(o,e){this.router=o,this.authService=e}get currentRoute(){return this.router.url.split("/")[1]||"home"}get userType(){return this.authService.getCurrentUser()?.type||"customer"}get servicesLabel(){return this.userType==="worker"?"\u062E\u062F\u0645\u0627\u062A\u064A":"\u0637\u0644\u0628\u0627\u062A\u064A"}static{this.\u0275fac=function(e){return new(e||t)(d(v),d(g))}}static{this.\u0275cmp=m({type:t,selectors:[["app-main-layout"]],decls:4,vars:0,consts:[["dir","rtl",1,"app-container"],[1,"pb-20"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"main",1),i(2,"router-outlet"),a(),i(3,"app-nav-bar"),a())},dependencies:[x,L],styles:["[_nghost-%COMP%]{display:block;min-height:100vh}main[_ngcontent-%COMP%]{min-height:calc(100vh - 136px)}.active-link[_ngcontent-%COMP%]{color:#ef4444}.custom-title[_ngcontent-%COMP%]{font-family:Changa,Marhey,Ruwudu,sans-serif;font-size:2em}"]})}}return t})();var y=(()=>{class t{constructor(o,e){this.authService=o,this.router=e}canActivate(o,e){return this.authService.currentUser$.pipe(A(1),w(n=>{let E=e.url;return n?o.data?.roles&&!o.data.roles.includes(n.type)?this.router.createUrlTree(["/"]):!0:(localStorage.setItem("returnUrl",E),this.router.createUrlTree(["/auth/welcome"]))}))}canActivateChild(o,e){return this.canActivate(o,e)}static{this.\u0275fac=function(e){return new(e||t)(S(g),S(v))}}static{this.\u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var q=[{path:"",component:N,children:[{path:"",loadChildren:()=>import("./chunk-RBJ3XHBR.js").then(t=>t.HomeModule),canActivate:[y]},{path:"profile",loadChildren:()=>import("./chunk-D4QIDDNW.js").then(t=>t.ProfileModule),canActivate:[y]},{path:"services",loadChildren:()=>import("./chunk-IERLWOIN.js").then(t=>t.ServicesModule),canActivate:[y]},{path:"messages",loadChildren:()=>import("./chunk-DG2S6RXA.js").then(t=>t.MessagesModule),canActivate:[y]}]},{path:"auth",loadChildren:()=>import("./chunk-3INGYXDL.js").then(t=>t.AuthModule)}],I=(()=>{class t{static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275mod=c({type:t})}static{this.\u0275inj=s({imports:[p.forRoot(q),p]})}}return t})();var T=(()=>{class t{constructor(){this.title="sanai3i"}static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275cmp=m({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(e,n){e&1&&i(0,"router-outlet")},dependencies:[x]})}}return t})();var _=(()=>{class t{static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275mod=c({type:t})}static{this.\u0275inj=s({imports:[b,p]})}}return t})();var B=(()=>{class t{static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275mod=c({type:t})}static{this.\u0275inj=s({imports:[b,p,_]})}}return t})();var D=(()=>{class t{static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275mod=c({type:t,bootstrap:[T]})}static{this.\u0275inj=s({imports:[k,B,_,I]})}}return t})();j().bootstrapModule(D).catch(t=>console.error(t));
